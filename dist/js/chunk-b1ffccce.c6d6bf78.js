(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1ffccce"],{"03b9":function(e,t,r){},"04db":function(e,t,r){"use strict";var n=r("03b9"),s=r.n(n);s.a},"05e8":function(e,t,r){},7183:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"route_container"},[r("h1",[e._v("Results for "+e._s(e.searchType)+" containing '"+e._s(e.$route.params.q)+"'")]),r("transition",{attrs:{name:"fade",mode:"out-in"}},[e.results&&e.results.length?r("div",{key:"results",staticClass:"search__results"},[r("scroll-load",{attrs:{loading:e.loading},on:{loadNext:e.loadNextPage}},["users"===e.searchType?[e._l(e.results,(function(e){return r("user-display",{key:"search-user-result-"+e.id,attrs:{user:e}})})),e.loading?e._l(e.next,(function(e){return r("user-placeholder",{key:"user-placeholder-"+e})})):e._e()]:e._e(),"threads"===e.searchType?[e._l(e.results,(function(e){return r("thread-display",{key:"search-thread-result-"+e.id,attrs:{thread:e}})})),e.loading?e._l(e.next,(function(e){return r("thread-display-placeholder",{key:"thread-placeholder-"+e})})):e._e()]:e._e()],2)],1):e._e(),e.showNoResults||e.queryTooShort?r("div",{key:"no results",staticClass:"overlay_message search__overlay_message"},[r("font-awesome-icon",{attrs:{icon:["fa","exclamation-circle"]}}),e._v(" "+e._s(e.queryTooShort?"Search term is too short":"No results found")+" ")],1):r("div",{key:"loading"},["users"===e.searchType?r("user-placeholder"):e._e(),"threads"===e.searchType?r("thread-display-placeholder"):e._e()],1)])],1)},s=[],a=(r("99af"),r("fb6a"),r("b0c0"),r("2909")),o=r("8674"),i=r("ac51"),c=r("73b2"),l=r("ce34"),u=r("9870"),h=r("c4b0"),d=r.n(h),f=r("bd28"),p={name:"Search",components:{ScrollLoad:o["a"],UserDisplay:i["a"],UserPlaceholder:c["a"],ThreadDisplay:l["a"],ThreadDisplayPlaceholder:u["a"]},data:function(){return{results:null,next:0,offset:0,loading:!1}},computed:{searchType:function(){var e=this.$route.name;return"search/users"===e?"users":"threads"},showNoResults:function(){return!this.loading&&this.results&&!this.results.length},queryTooShort:function(){return this.$route.params.q.length<this.$store.state.MinQueryLength}},methods:{getResults:function(){var e=this;this.queryTooShort||(this.$store.dispatch("setTitle","Search | "+this.$route.params.q),this.axios.get("/api/v1/search/".concat(this.searchType.slice(0,-1),"?q=").concat(this.$route.params.q)).then((function(t){e.results=t.data[e.searchType],e.next=t.data.next,e.offset=t.data.offset}))["catch"](d()(this.$store)))},loadNextPage:function(){var e=this;this.next&&(this.loading=!0,this.axios.get("/api/v1/search/".concat(this.searchType.slice(0,-1),"?q=").concat(this.$route.params.q,"&offset=").concat(this.offset)).then((function(t){var r;(r=e.results).push.apply(r,Object(a["a"])(t.data[e.searchType])),e.next=t.data.next,e.offset=t.data.offset,e.loading=!1}))["catch"]((function(t){e.loading=!1,d()(e.$store)(t)})))}},watch:{"$route.params":"getResults"},mounted:function(){this.$store.dispatch("setTitle","Search | "+this.$route.params.q),this.getResults(),Object(f["a"])("search")}},m=p,v=(r("04db"),r("2877")),y=Object(v["a"])(m,n,s,!1,null,"4e5d6734",null);t["default"]=y.exports},"73b2":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user_placeholder"},[r("div",{staticClass:"user_placeholder__avatar"}),r("div",{staticClass:"user_placeholder__username"})])}],a={name:"UserPlaceholder"},o=a,i=(r("a4a1"),r("2877")),c=Object(i["a"])(o,n,s,!1,null,"538c905c",null);t["a"]=c.exports},"84a2":function(e,t,r){(function(t){var r="Expected a function",n=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),f=Object.prototype,p=f.toString,m=Math.max,v=Math.min,y=function(){return d.Date.now()};function g(e,t,n){var s,a,o,i,c,l,u=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(r);function p(t){var r=s,n=a;return s=a=void 0,u=t,i=e.apply(n,r),i}function g(e){return u=e,c=setTimeout(x,t),h?p(e):i}function _(e){var r=e-l,n=e-u,s=t-r;return d?v(s,o-n):s}function T(e){var r=e-l,n=e-u;return void 0===l||r>=t||r<0||d&&n>=o}function x(){var e=y();if(T(e))return w(e);c=setTimeout(x,_(e))}function w(e){return c=void 0,f&&s?p(e):(s=a=void 0,i)}function S(){void 0!==c&&clearTimeout(c),u=0,s=l=a=c=void 0}function j(){return void 0===c?i:w(y())}function q(){var e=y(),r=T(e);if(s=arguments,a=this,l=e,r){if(void 0===c)return g(l);if(d)return c=setTimeout(x,t),p(l)}return void 0===c&&(c=setTimeout(x,t)),i}return t=$(t)||0,b(n)&&(h=!!n.leading,d="maxWait"in n,o=d?m($(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),q.cancel=S,q.flush=j,q}function _(e,t,n){var s=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return b(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),g(e,t,{leading:s,maxWait:t,trailing:a})}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function T(e){return!!e&&"object"==typeof e}function x(e){return"symbol"==typeof e||T(e)&&p.call(e)==s}function $(e){if("number"==typeof e)return e;if(x(e))return n;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=i.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):o.test(e)?n:+e}e.exports=_}).call(this,r("c8ba"))},8674:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"scroll_load"},[e._t("default")],2)},s=[],a=r("84a2"),o=r.n(a),i={name:"ScrollLoad",props:["loading","query-selector","padding-bottom","padding-top"],computed:{element:function(){return this.querySelector?document.querySelector(this.querySelector):null}},methods:{onScroll:o()((function(){var e,t,r=this.paddingBottom||300,n=this.paddingTop||150;this.loading||(this.element?(e=Math.floor(this.element.scrollTop+this.element.getBoundingClientRect().height+r-this.element.scrollHeight),t=n-this.element.scrollTop):(e=window.innerHeight+window.pageYOffset+r-document.body.scrollHeight,t=n-document.body.scrollTop),e>0?this.$emit("loadNext"):t>0&&this.$emit("loadPrevious"))}))},mounted:function(){(this.element||window).addEventListener("scroll",this.onScroll)},destroyed:function(){(this.element||window).removeEventListener("scroll",this.onScroll)}},c=i,l=r("2877"),u=Object(l["a"])(c,n,s,!1,null,null,null);t["a"]=u.exports},"90f5":function(e,t,r){"use strict";var n=r("05e8"),s=r.n(n);s.a},"93e1":function(e,t,r){},a4a1:function(e,t,r){"use strict";var n=r("93e1"),s=r.n(n);s.a},ac51:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user_display",on:{click:function(t){return e.$router.push("/user/"+e.user.username)}}},[r("avatar-icon",{attrs:{user:e.user,size:"small"}}),r("div",{staticClass:"user_display__username"},[e._v(" "+e._s(e.user.username)+" ")])],1)},s=[],a=r("9098"),o={name:"UserDisplay",props:["user"],components:{AvatarIcon:a["a"]}},i=o,c=(r("90f5"),r("2877")),l=Object(c["a"])(i,n,s,!1,null,"cb3c8d9a",null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-b1ffccce.c6d6bf78.js.map