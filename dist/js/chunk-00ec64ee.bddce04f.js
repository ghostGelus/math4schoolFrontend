(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00ec64ee"],{"225f":function(t,o,n){"use strict";var e=n("63a4"),a=n.n(e);a.a},3746:function(t,o,n){"use strict";n.r(o);var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"route_container"},[n("confirm-modal",{attrs:{color:"red",text:"Yes, delete it"},on:{confirm:t.deleteAccount},model:{value:t.showConfirmModal,callback:function(o){t.showConfirmModal=o},expression:"showConfirmModal"}},[t._v(" Are you sure you want to delete your account? ")]),n("div",{staticClass:"h1"},[t._v("Account settings")]),n("div",[n("div",{staticClass:"h3"},[t._v("Change your password")]),n("p",{staticClass:"p--condensed"},[t._v(" For security, enter your current password ")]),n("div",[n("fancy-input",{attrs:{placeholder:"Current password",error:t.password.errors["current password"],type:"password"},model:{value:t.password.current,callback:function(o){t.$set(t.password,"current",o)},expression:"password.current"}})],1),n("div",[n("fancy-input",{attrs:{placeholder:"New password",error:t.password.errors["new password"],type:"password"},model:{value:t.password.new,callback:function(o){t.$set(t.password,"new",o)},expression:"password.new"}})],1),n("loading-button",{staticClass:"button button--green",attrs:{loading:t.password.loading},on:{click:t.savePassword}},[t._v("Change password")])],1),n("div",[n("div",{staticClass:"h3 h3--margin_top"},[t._v("Delete your account")]),t._m(0),n("loading-button",{staticClass:"button button--red",attrs:{loading:t.deleteAccountLoading},on:{click:function(o){t.showConfirmModal=!0}}},[t._v("Delete my account")])],1)],1)},a=[function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("p",{staticClass:"p--condensed"},[t._v(" Once this is done, your account "),n("strong",[t._v("cannot")]),t._v(" be restored "),n("br"),t._v(" Your current posts however will be retained ")])}],s=n("80e3"),r=n("8e8d"),i=n("da16"),c=n("c4b0"),l=n.n(c),u=n("bd28"),d={name:"settingsAccount",components:{FancyInput:s["a"],LoadingButton:r["a"],ConfirmModal:i["a"]},data:function(){return{password:{loading:!1,current:"",new:"",errors:{"new password":"","current password":""}},deleteAccountLoading:!1,showConfirmModal:!1}},computed:{},methods:{savePassword:function(){var t=this;this.password.errors["current password"]="",this.password.errors["new password"]="",this.password.current.length?this.password["new"].length?(this.password.loading=!0,this.axios.put("/api/v1/user/"+this.$store.state.username,{currentPassword:this.password.current,newPassword:this.password["new"]}).then((function(){t.password.loading=!1,t.password.current="",t.password["new"]=""}))["catch"]((function(o){t.password.loading=!1,l()(t.$store)(o,(function(o){"hash"===o.path&&(t.password.errors["new password"]=o.message)}))}))):this.password.errors["new password"]="Cannot be blank":this.password.errors["current password"]="Cannot be blank"},deleteAccount:function(){var t=this;this.deleteAccountLoading=!0,this.axios["delete"]("/api/v1/user/"+this.$store.state.username).then((function(){t.deleteAccountLoading=!1,t.$store.commit("setUsername",null),t.$router.push("/")}))["catch"]((function(o){t.deleteAccountLoading=!1,l()(t.$store)(o)}))}},mounted:function(){this.$store.dispatch("setTitle","account settings"),Object(u["a"])("settingsAccount")}},p=d,f=(n("6621"),n("2877")),w=Object(f["a"])(p,e,a,!1,null,"4c565464",null);o["default"]=w.exports},4795:function(t,o,n){var e=n("23e7"),a=n("da84"),s=n("342f"),r=[].slice,i=/MSIE .\./.test(s),c=function(t){return function(o,n){var e=arguments.length>2,a=e?r.call(arguments,2):void 0;return t(e?function(){("function"==typeof o?o:Function(o)).apply(this,a)}:o,n)}};e({global:!0,bind:!0,forced:i},{setTimeout:c(a.setTimeout),setInterval:c(a.setInterval)})},"4e07":function(t,o,n){},5326:function(t,o,n){},6307:function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"modal_window__overlay",class:{"modal_window--show":t.value},on:{click:function(o){return o.target!==o.currentTarget?null:t.closeModal(o)}}},[n("div",{staticClass:"modal_window",class:{"modal_window--show":t.value},style:{width:t.width||"20rem"}},[n("div",{staticClass:"modal_window__loading_overlay",class:{"modal_window__loading_overlay--show":t.loading}},[n("loading-icon")],1),t.closeButton?n("span",{staticClass:"modal_window__close",on:{click:t.closeModal}},[n("font-awesome-icon",{attrs:{icon:["fa","times"]}})],1):t._e(),n("div",{staticClass:"modal_window__main",class:{"modal_window__main--no_padding":t.noPadding}},[t._t("main")],2),t.hideFooter?t._e():n("div",{staticClass:"modal_window__footer"},[t._t("footer")],2)])])},a=[],s=n("c5af"),r={name:"ModalWindow",props:["value","width","close-button","hide-footer","no-padding","loading"],components:{LoadingIcon:s["a"]},methods:{closeModal:function(){this.$emit("input",!1)}}},i=r,c=(n("f83a"),n("2877")),l=Object(c["a"])(i,e,a,!1,null,"32ecccd0",null);o["a"]=l.exports},"63a4":function(t,o,n){},6621:function(t,o,n){"use strict";var e=n("e195"),a=n.n(e);a.a},"80e3":function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"fancy_input",style:{width:t.width||"auto"}},[n("div",{staticStyle:{position:"relative",display:"inline-block"}},[n("div",{staticClass:"fancy_input__placeholder",class:{"fancy_input__placeholder--active":t.active||t.value.length,"fancy_input__placeholder--large":t.large}},[t._v(" "+t._s(t.placeholder)+" ")]),n("input",{staticClass:"fancy_input__input input",class:{"fancy_input__input--large":t.large,"fancy_input__input--error":t.error},attrs:{type:t.type||"text"},domProps:{value:t.value},on:{input:function(o){return t.updateValue(o.target.value)},focus:t.addActive,blur:t.removeActive}})]),n("error-tooltip",{attrs:{error:t.error}})],1)},a=[],s=n("e145"),r={name:"FancyInput",props:["value","placeholder","width","type","error","large"],components:{ErrorTooltip:s["a"]},data:function(){return{active:!1}},methods:{updateValue:function(t){this.$emit("input",t)},addActive:function(){this.active=!0},removeActive:function(){this.active=!1}}},i=r,c=(n("9946"),n("2877")),l=Object(c["a"])(i,e,a,!1,null,"e8a0c810",null);o["a"]=l.exports},"8df7":function(t,o,n){"use strict";var e=n("4e07"),a=n.n(e);a.a},"8e8d":function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("button",{staticClass:"button loading_button",class:{"loading_button--loading":t.loading},on:{click:function(o){return t.event("click")},keydown:function(o){return t.event("keydown")}}},[n("loading-icon",{staticClass:"loading_button__icon",attrs:{dark:t.dark}}),n("div",{staticClass:"loading_button__slot"},[t._t("default")],2)],1)},a=[],s=n("c5af"),r={name:"LoadingButton",props:["loading","dark"],components:{LoadingIcon:s["a"]},methods:{event:function(t){this.loading||this.$emit(t)}}},i=r,c=(n("8df7"),n("2877")),l=Object(c["a"])(i,e,a,!1,null,null,null);o["a"]=l.exports},9832:function(t,o,n){"use strict";var e=n("5326"),a=n.n(e);a.a},9946:function(t,o,n){"use strict";var e=n("bcc7"),a=n.n(e);a.a},b9dc:function(t,o,n){},bcc7:function(t,o,n){},bd28:function(t,o,n){"use strict";var e=n("bc3a"),a=n.n(e);o["a"]=function(t,o){"userPosts"===t||"userThreads"===t?a.a.get("/api/v1/user/"+o).then((function(o){return a.a.post("/api/v1/log",{route:t,resourceId:o.data.id})})):a.a.post("/api/v1/log",{route:t,resourceId:o})}},c5af:function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"loading_icon",class:{"loading_icon--dark":t.dark}},[n("span"),n("span"),n("span")])},a=[],s={name:"LoadingIcon",props:["dark"]},r=s,i=(n("9832"),n("2877")),c=Object(i["a"])(r,e,a,!1,null,null,null);o["a"]=c.exports},da16:function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("modal-window",{attrs:{value:t.showModal},on:{input:t.setShowModal}},[n("div",{staticStyle:{"padding-top":"1rem"},attrs:{slot:"main"},slot:"main"},[t._t("default")],2),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"button button--modal",class:t.buttonColor,on:{click:t.confirm}},[t._v(t._s(t.text||"OK"))]),n("button",{staticClass:"button button--modal",on:{click:function(o){return t.setShowModal(!1)}}},[t._v("Cancel")])])])},a=[],s=n("6307"),r={name:"ConfirmModal",props:["value","color","text"],components:{ModalWindow:s["a"]},data:function(){return{showModal:!1}},computed:{buttonColor:function(){return this.color?"button--"+this.color:""}},watch:{value:function(t){this.showModal=t}},methods:{setShowModal:function(t){this.showModal=t,this.$emit("input",t)},confirm:function(){this.$emit("confirm"),this.setShowModal(!1)}},mounted:function(){this.setShowModal(this.value)}},i=r,c=n("2877"),l=Object(c["a"])(i,e,a,!1,null,null,null);o["a"]=l.exports},e145:function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("div",{staticClass:"error_tooltip",class:{"error_tooltip--show":t.error}},[t._v(" "+t._s(t.delayed_error)+" ")])},a=[],s=(n("4795"),{name:"ErrorTooltip",props:["error"],data:function(){return{delayed_error:this.error}},watch:{error:function(t){var o=this;t?this.delayed_error=t:setTimeout((function(){o.delayed_error=""}),205)}}}),r=s,i=(n("225f"),n("2877")),c=Object(i["a"])(r,e,a,!1,null,"6281f96c",null);o["a"]=c.exports},e195:function(t,o,n){},f83a:function(t,o,n){"use strict";var e=n("b9dc"),a=n.n(e);a.a}}]);
//# sourceMappingURL=chunk-00ec64ee.bddce04f.js.map